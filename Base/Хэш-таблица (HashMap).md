21-05-2025 20:42
Tags: #z #lesson 
## HashMap - это какой-то прикол

Нужны для хранения данных, для быстрого поиска данных.

Сущесвтует элемент состаящий из двух или более парамтров который надо записать в пустую таблицу.

Мы хотим найти элемент по одному из параметров, но у нас нет индексации.
- N - количество элементов в таблице
- Key/ключ - параметр по которому мы будем искать.

При заполнении Хэштаблицы элементы индексируются хэшфункцией по ключу

- хэш-функция - эта функция превращающая какой либо ключ (определенного типа данных) в индекс.

Например, строку (Соня) делит на отдельные строки "с" "о" "н" "я", преобразует по кодировке ascii в числа, суммирует эти числа и находит остаток от деления на N. Этот остаток и является индексом данного элемента.

## Метод разрешения коллизий

- Коллизия - полученный хэш-функцией индекс занят другим элементом, хэш для разных ключей одинаковый.

### Метод открытой адресации

В такой ситуации к числам полученным из хэш-функции применяется какоето преобразование до тоех пор пока не дойдём до незанятого индекса.
Такие преобразования называются ПРОБИРОВАНИЕ, а числа получаемые в результате преобразования - ПОСЛЕДОВАТЕЛЬНОСТЬ ПРОБ.

Плюсы:
- быстро ходить по ячейкам, так как всё рядом
- меньше расход паямяти

Недостатки:

- нужно очень внимательно следить за выделяемы массивом 
- нужно выбрать оптимальный метод обхода индексов для поиска незанятого

при добавлении элементов если таблица уже заполнена, создаётся новая большей вместительности, копируются все элементы туда и пользуемся ей.(скорее всего заново проиндексировав все элементы)
вопросов нуль.

если мы удаляем чтото из таблицы - то просто помечаем ячейку с индексом таблицы как удалённую, и в нее теперь можно снова записать информацию.

!!! однако если мы будем часто удалять из таблицы ячейки, то накопится много ячеек с пометной удалено и навигация по таблице будет хуёво

чтобы спастись, можно перенести все неудаленные значения в новую таблицу - РЕХЭШИРОВАНИЕ

### Rehash - выселение(из общаги) бакетов.

коэффициент нагруженности - Load factor

Load factor = size / bucketSize
- size - количество элементов
- bucketSize - максимальное количество ячеек(бакитов)

Если load factor > 0,7 происходит рехэширование
## Виды пробирования.

Основные виды:
1. Линейное пробирование
2. Квадратичное пробирование
3. Двойное Хэширование

### Линейное пробирование

К полученному из хэш-функции индексу (i) прибовляем+1 и пробуем записать в этот индекс. i+1 и так далее, пока не обнаружится свободная ячейка

### Квадратичное пробирование

i+1, i+2, i+3 и так далее пока не найдем свободный индекс

### Двойное хэширование

К полученному индексу может применяться вторая хэх-функция.

### Метод цепочек

Суть - когда встречаем коллизию, мы сохраняем в хранящуюся по индексу элементу ссылку на следующий элемент, который записываем.

В таблице храним ссылку на элемент(указатель на область памяти). 

Сам элемент гдето в памяти.

в элементе может быть указатель на следующий элемент.

![[Метод цепочек.png]]

Получается таблица хранит указатель на адрес элемента в котором хранится указатель на адрес следующего элемента.

можно реализовывать через [[Связный список (linked list)]], [[Бинарное дерево (BST-binary search tree)]] и через [[Динамический массив (dynamic array)]].
  
Плюсы:
Простота реализации 

Недостатки:
Расход памяти на хранение указателей
медленный обход по таблице


## Хорошая хэш-функция

Свойства:

1. Детерминизм(определённость):
При хэшировании одного и того же ключа, должен всегда получаться один и тот же индекс.
2. Равномерность:
Равномерное распределение данных в таблице. как можно меньшее количесвто разных ключей может попадать на один индекс.
3. Эффективность:
хэширование должно быть быстрым, для ускорения всех операций с таблицей.
4. Ограниченность:
Индексы должны быть в пределах таблицы.
5. Необратимость:
нельзя обратно преобразовать индекс в ключ

![[хорошая хэш-функция.png]]

## Операции с HashMap

Вставка/Удаление в начало в конец и в середину имеет логарифмическую временную сложность O(log(n))


 


### Zero-Links
- [[00 Обучение]]
- [[00 Data Struct]]
- 


### Links
- https://www.youtube.com/watch?v=0UX4MIfOMEs
- https://www.youtube.com/watch?v=_EzbLVvao7c

