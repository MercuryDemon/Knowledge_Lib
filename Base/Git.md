04-06-2025 17:26
Tags: #
# Система контроля версий(version control system)

Это система которая заисывает изменеия файлов, позволяет в любой момент откатиться к прежней версии файла, а также логирует кто когда и в какие файлы вносил изменения.

Git - является распределённой системой контроля версий.
особенности:
- данные хранятся децентролизованно и синхранизированно, клиенты полностью копируют(клонируют) репозиторий, для работы с ним.
- возможность нелинейной разработки за счёт ветвления
- почти все операции выполняются локально, ну кроме синхронизации.
- Git обычно только добавляет новые данные в базу git(почти никогда не удаляет)

Git локально хранит снимки мини-файловой системы. Поток снимков во времени:
![[Pasted image 20250604174208.png]]

в Git для всего вычисляется хэшсумма, и после этого происходит сохранение.
- невозможно чтото изменить или удалить без ведома Git
- данные не проебутся при передаче
Механизм хэширование SHA-1 - хэш вычисляется на основе содержимого файла или структуры каталога.
Git сохраняет все объекты по хэш-сумме(не по имени)

# Три состояния GIt

существуют три состояния файлов в системе Git:
- modified (изменён)
- staged (индексирован)
- committed (зафиксирован)

## modified
Файл изменен, но изменения не зафиксированы.

## staged
измененный файл в текущей версии, отмеченный для включения в коммит.

## committed
Зафиксирован, то есть уже отмечен в моей локальной базе.

# Секции проекта Git

- Working directory
- staging area
- .git directory(Repository)

![[Pasted image 20250604175734.png]]
## Working directory
Снимок одной версии проекта - файлы из сжатой базы данных GIt помещенные на диск для их использования и редактирования

## staging area
Файл находящийся в каталоге Git, содержащий информацию о том что пойдёт в коммит

## .git directory(Repository)
Каталог Git, где GIt хранит метаданные и базу объектов проекта. (то что клонируется)

Базовый подход в работе с Git выглядит так:

1. Изменяете файлы вашей рабочей копии.
2. Выборочно добавляете в индекс только те изменения, которые должны попасть в следующий коммит, добавляя тем самым снимки _только_ этих изменений в индекс.
3. Когда вы делаете коммит, используются файлы из индекса как есть, и этот снимок сохраняется в ваш каталог Git.


Жизненный цикл состояния файлов
![[Pasted image 20250604184807.png]]
## .gitignore

Когда в каталоге появляются автоматически генерируемые файлы которые ненужно отслеживать, например логи временные файлы.

Создаём .gitinore, с перечисление шаблоконв таких файлов. Файлы заканчивающиеся на .o объектные, .a архивные, заканчивающиеся на тильду "~" это временные 
```console
$ cat .gitignore
*.[oa]
*~
```
```nano
# Исключить все файлы с расширением .a
*.a

# Но отслеживать файл lib.a даже если он подпадает под исключение выше
!lib.a

# Исключить файл TODO в корневом каталоге, но не файл в subdir/TODO
/TODO

# Игнорировать все файлы в каталоге build/
build/

# Игнорировать файл doc/notes.txt, но не файл doc/server/arch.txt
doc/*.txt

# Игнорировать все .txt файлы в каталоге doc/
doc/**/*.txt
```

отменить изменения в индексе(обавление нежелательных файлов в коммит) командой
```console
git reset HEAD <fileName>
```
# Права на файл.

число перед именем файла который добавляется в Git 100644

первая половина - тип файла 
вторая половина - права на файл

для данного юзера: 
Иполнимый файл 755
неисполнимый 644

```
cmode +x <fileName> // сделать файл исполнимым
cmode -x <fileName> // сделать фай неисполнимым
```

в Git изменение прав == изменение файла


# git show

Показывает автора и коммитера
- автор кто написал код(с временной меткой)
- коммиттер тот кто закоммитил(тоже с временной меткой)

по умолчанию автор и коммитер это одно и то же лицо и одинаковая дата

```console
git commit --author'Nikitos Maralov'
```
добавление автора

# Добавление директорий

гит не видит пустые дирректории(можно обойти добавление пустого файла '.gitkeep')

# Хороший коммит

Каждый коммит добавляет только одну какуюто штуку, фиксит чтото одно  и т.д (принцип атомарности)
- проще остлеживать историю изменений
- проще отлаживать по частям

коммит должет быть завершённым

Commit early. Commit often.

Описание к коммиту должно быть содержательным.
- первая строка заголовок
- после через двойной перевод строки одробное описание без воды

# Удаление и переименование

можно просто удалить файл, тогда  Git это увидит и выведет сообщение о том, что есть неотслеживаемое изменение `deleted <fileName>` 
затем надо сделать `git add <file =Name>`  а затем `git commit`

так,в текущей версии репозитория, файл будет удалён. Но история о нём останется.

команда `git rm -r <fileName>` делает то же самое

`--cached`  удаляет файл из индекса, в дериктории он остаётся(Untracked)

Git ругается если мы хотим удалить файл с незакоммиченными изменениями

## Переименование

меняем имя файла делаем `git add` -> Git видит, что ты переименовал файл

# Ветвление
![[Ветки в Git]]


### Zero-Links
- [[00 VCS(Git)]]
- [[00 Обучение]]


### Links
- https://git-scm.com/book/ru/v2/%d0%92%d0%b2%d0%b5%d0%b4%d0%b5%d0%bd%d0%b8%d0%b5-%d0%9e-%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d0%b5-%d0%ba%d0%be%d0%bd%d1%82%d1%80%d0%be%d0%bb%d1%8f-%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%b9
- [https://youtube.com/playlist?list=PLDyvV36pndZFHXjXuwA_NywNrVQO0aQqb&si=JP73YQ0ImG6JiSRH](https://youtube.com/playlist?list=PLDyvV36pndZFHXjXuwA_NywNrVQO0aQqb&si=JP73YQ0ImG6JiSRH)

